import{e as l,j as t}from"./fs6h2trisr1juto6.js";import{j as v,V as _,aG as b,P as r,a as n,S as i,c5 as w,d as E,bT as M}from"./njq6ygky3ttysgdk.js";import{cv as x,cw as S,cx as W}from"./d7a6rc8fexfzu7dt.js";import{u as B}from"./bgfiezfsg2vugy0n.js";import{u as y}from"./opwx9lpj3cdeq66k.js";import"./mqk4d73u62uob59y.js";const L=({size:s="medium",disabled:e,onExit:o})=>{const a=l(),{isUnauthenticated:p}=v(),u=y(c=>c.status),{requestMicrophonePermissions:m}=B(),h=a.formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),d=_(),{layer:g}=b("1170120107");if(!g.get("is_whisper_enabled",!1)||p)return null;u==="error"&&(r.logEvent(n.composerWhisperButtonError),i.logEvent("chatgpt_composer_whisper_button_error"));const f=async()=>{if(r.logEvent(n.composerWhisperButtonClickedStart),i.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await m())return d.danger(h);o()};return t.jsx(j,{children:t.jsx(w,{"aria-label":a.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:s,type:"button",onClick:f,disabled:e,style:{viewTransitionName:"--vt-composer-whisper-button"},className:E(x,e?"opacity-30":S),children:t.jsx(W,{"aria-label":a.formatMessage({id:"cBnp8z",defaultMessage:"Mic icon"}),className:"h-[18px] w-[18px]",fontSize:"inherit"})})})};function j({children:s}){const e=l();return t.jsx(M,{sideOffset:4,label:e.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"top",onOpenChange:o=>{o&&(r.logEvent(n.composerWhisperButtonHovered),i.logEvent("chatgpt_composer_whisper_button_hovered"))},children:s})}export{L as WhisperIconButton};
//# sourceMappingURL=eznvdeg37se3ws62.js.map
