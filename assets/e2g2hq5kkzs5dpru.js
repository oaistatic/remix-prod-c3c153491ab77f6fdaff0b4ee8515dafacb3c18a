import{r as n,v as m,c as d,j as t,M as i}from"./fs6h2trisr1juto6.js";import{bW as e,B as r,cq as x,cr as s,cs as o,ct as p}from"./d7a6rc8fexfzu7dt.js";import{c as b}from"./navzvmlqmmmpvnl2.js";import{D as g}from"./njq6ygky3ttysgdk.js";function B(){const[c,a]=n.useState(!1);n.useEffect(()=>{e.setSessionId(m()),e.logImpression()},[]);const{mutate:l,isPending:u}=d({mutationFn:b,onError:f=>{if(g.addError("Jawbone: Failed to create push subscription",{error:f}),Notification.permission==="denied"){s.clearNotificationRequest();return}a(!0)},onSuccess:()=>{s.clearNotificationRequest()}});return c?t.jsx(r,{icon:t.jsx(x,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{a(!1),e.logErrorDismissed(),s.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsDisabledBannerTitle}),content:t.jsx(i,{...o.notificationsDisabledBannerContent})}):t.jsx(r,{icon:t.jsx(p,{}),primaryCtaText:t.jsx(i,{...o.notificationsBannerAllow}),onPrimaryCtaClick:()=>{e.logAllow(),l()},isPrimaryCtaDisabled:u,secondaryCtaText:t.jsx(i,{...o.notificationsBannerNotNow}),onSecondaryCtaClick:()=>{e.logNotNow(),s.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsBannerTitle}),content:t.jsx(i,{...o.notificationsBannerContent})})}export{B as JawboneNotificationsBanner};
//# sourceMappingURL=e2g2hq5kkzs5dpru.js.map
