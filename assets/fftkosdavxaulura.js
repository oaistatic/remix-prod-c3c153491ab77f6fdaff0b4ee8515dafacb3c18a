import{f9 as A,aM as g,aA as C,al as R,cD as E,g as y,L as O,Z as L,em as M,P as w,a as v}from"./njq6ygky3ttysgdk.js";import{k as x,f as S,z as b,r as i,a6 as j,j as s}from"./fs6h2trisr1juto6.js";import{A as T}from"./fkwn0akr10y9naxy.js";import{bb as D}from"./d7a6rc8fexfzu7dt.js";import{C as o}from"./cbqwtyc20uet1ocj.js";import"./gs82yh7xpb1qjtsc.js";import"./k9j493gfhjdl3k26.js";const P={pro:"chatgptpro",plus:"chatgptplusplan"},_=Object.keys(o),F={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function N(r){r&&o[r]&&(window.location.href=o[r])}const G=A(function(){const[h]=x(),n=S(),u=g(),{plan:t}=b(),e=h.get("checkout_from"),l=i.useRef(!1),a=C(),m=i.useMemo(()=>a?.subscriptionAnalyticsParams,[a]),{value:c,isLoading:p}=R("1719651090");if(!t||!(t in P))throw j("/");return i.useEffect(()=>{if(!a||p||l.current)return;if(l.current=!0,e==="vza493q"){a.hasPaidSubscription()&&a.isPro()?window.location.href=o[e]:c||n("/");return}(async()=>{const f=e&&_.includes(e)?F[e]:"purchase_plan_redirect";try{e&&_.includes(e)&&y.setItem(O.CheckoutFrom,e);const d=await L.getCheckoutLink(u,"Sora",{plan_name:P[t],billing_details:{currency:M}});w.logEvent(v.accountPayPurchasePlanRedirect,{...m,plan:t,location:f}),window.location.href=d.url}catch{D(n,f)}})()},[n,u,t,e,m,p,c,a]),s.jsxs(s.Fragment,{children:[a&&e==="vza493q"&&c&&s.jsx(T,{currentAccount:a,variant:"operator",onClose:()=>N(e)}),s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:s.jsx(E,{})})]})});export{G as default};
//# sourceMappingURL=fftkosdavxaulura.js.map
