import{d as A,P as j,C as L,h as k,c5 as b,a as w,S,bJ as E,f9 as P,V as _,fQ as T,bL as N,cL as F}from"./njq6ygky3ttysgdk.js";import{r as c,f as O,j as e,M as m,d as B,A as W,h as U,k as D,e as G,l as R}from"./fs6h2trisr1juto6.js";import{C as K,T as z,m as H,L as V}from"./oss048ggk5zi0vdb.js";import{a1 as I,cL as J,k as Q,dK as X,l as Y,m as $,bg as q,n as Z,dL as ee}from"./d7a6rc8fexfzu7dt.js";import{c as te}from"./bf8j41shu74ow6id.js";import"./isjdmfmhzv09v01t.js";function se({auth0Provider:n,isNoAuthEnabled:o,nextUrl:i,isStorageComplianceEnabled:r}){const s=I(),[t,a]=c.useState(!1),l=O(),p=J(x.signUp),h=Q(),v=!s||!t,u=()=>{j.logLogInButtonClicked({provider:n,location:"Login page"}),t||setTimeout(()=>{a(!0)},500),h({authType:"login",callbackUrl:i})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!s&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx(K,{})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:s?e.jsx("div",{children:z}):e.jsx(m,{...x.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:A("grid gap-x-3 gap-y-2",s?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(y,{blue:!0,loading:t,testid:"login-button",onClick:u,children:e.jsx(m,{...x.logIn})}),s&&t&&e.jsx(y,{ghost:!0,testid:"login-tryagain-button",onClick:u,children:e.jsx(m,{...x.logInTryAgain})}),v&&e.jsx(y,{blue:!0,testid:"signup-button",onClick:()=>{j.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),L.setCookie(k.SignupRedirectUrl,i,{maxAge:60*60*3}),h({authType:"signup",callbackUrl:i})},children:e.jsx(m,{...p})})]})})}),o?e.jsx(b,{color:"ghost",className:"mt-2 sm:mt-5",onClick:d=>{d.preventDefault(),j.logEvent(w.authTryItFirstLinkClicked),S.logEvent("chatgpt_auth_try_it_first_link_clicked"),l("/")},children:e.jsx(m,{...x.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center",children:[e.jsx(E,{}),e.jsx(te,{isStorageComplianceEnabled:r})]})]})})}function y({icon:n,children:o,className:i,onClick:r,testid:s,blue:t=!1,ghost:a=!1,loading:l=!1}){return e.jsxs(b,{color:t?"blue":a?"ghost":"primary",loading:l,size:"large","data-testid":s,onClick:r,className:i,children:[n?e.jsx("div",{className:A("h-5 w-5 justify-self-start",{}),style:{backgroundImage:n}}):null,e.jsx("span",{children:o})]})}const x=B({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function oe({auth0Provider:n,cfConnectingIp:o,isStorageComplianceEnabled:i,isNoAuthEnabled:r}){const{hash:s}=U(),[t]=D(),a=t.get("next"),l=(a?.startsWith("/")?a:"/")+s,p=G(),h=_(),v=c.useRef(!1),u=t.get("sso"),d=u?t.get("connection"):void 0,M=X()(),f=Y()??($(t,!0,M)||n);return c.useEffect(()=>{sessionStorage.setItem(q,f.toString())},[f]),c.useEffect(()=>{if(u){const g=L.getCookie(k.DeviceId)??"";R.signIn(f,{callbackUrl:l},{...g?{device_id:g}:{},...d?{connection:d,connection_provider:d.startsWith("conn_")?T.WorkOS.toString():T.Auth0.toString()}:{},...Z(g)})}},[l,u,d,f]),c.useEffect(()=>{j.logEvent(w.loggedOutOpenedAuthLogin,{cfConnectingIp:o})},[o]),c.useEffect(()=>{window.location.hash==="#pricing"&&L.setBooleanCookie(k.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(v.current)return;v.current=!0;const g=t.get("inv_ws_name"),C=t.get("inv_email");g&&C&&h.success(p.formatMessage(H.invitedToastMessage,{workspace_name:g,email:C}),{hasCloseButton:!0,duration:600})},[t,p,h]),u?null:e.jsxs("div",{className:"flex h-[100vh] flex-col justify-between",style:{height:"100dvh"},children:[e.jsx(ne,{auth0Provider:f,nextUrl:l,isStorageComplianceEnabled:i,isNoAuthEnabled:r}),e.jsx(N,{children:e.jsx(ee,{})})]})}const ne=({auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:i,isNoAuthEnabled:r})=>e.jsxs(e.Fragment,{children:[e.jsx(ie,{auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:i,isNoAuthEnabled:r}),!1]});function ie({auth0Provider:n,isNoAuthEnabled:o,nextUrl:i,isStorageComplianceEnabled:r}){const s=I(),t=F(),a=c.useRef(null);return c.useEffect(()=>{if(s)return;a.current==null&&(a.current=document.body.style.backgroundColor);const l=t?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=l,()=>{a.current!=null&&(document.body.style.backgroundColor=a.current)}},[t,s]),e.jsxs("div",{className:A("flex w-screen flex-1 flex-col md:grid",s?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!s&&e.jsx(V,{}),e.jsx(se,{auth0Provider:n,isNoAuthEnabled:o,nextUrl:i,isStorageComplianceEnabled:r})]})}const fe=P(function(){const o=W();return e.jsx(oe,{...o})});export{fe as default};
//# sourceMappingURL=buxagttecl5od95g.js.map
