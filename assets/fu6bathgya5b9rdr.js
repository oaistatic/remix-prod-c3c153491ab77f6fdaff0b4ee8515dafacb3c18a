import{aG as c,a1 as h,dM as w,fh as M,fi as C,dD as y,S as _,eQ as S,am as x,dE as k,a3 as A,F as E,y as O}from"./njq6ygky3ttysgdk.js";import{z as l,E as g,G as v,H as L,I as P,J as F,U as T}from"./d7a6rc8fexfzu7dt.js";import{r as d,d as N,e as U,h as I}from"./fs6h2trisr1juto6.js";import{u as R}from"./lj0prj6na7gf1jpf.js";function q(){const{eligible:e,isLoading:a,markAsViewed:o}=l(g.NewOnboardingFlow),{layer:n}=c("109457"),[s,t]=d.useState(!0),i=v();return{isOpen:e&&s&&!i&&n.get("is_guided_onboarding",!1),isLoading:a,setIsOpen:t,markAsViewed:o}}const j=N({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},hiThere:{id:"new_user_onboarding.hi_there",defaultMessage:"Hi there"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâ€™m trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function V(){const{eligible:e,isLoading:a,markAsViewed:o}=l(g.NewOnboardingConvo);return{isEligible:e&&!a,markAsViewed:o}}function J(e){const a=d.useContext(h),o=w(a),n=L(f=>f.onboardingConvoState||void 0),{isEligible:s,markAsViewed:t}=V(),i=G({clientThreadId:e}),{layer:u}=c("109457"),r=U(),m=P(),b=I(),p=m||F(b);d.useEffect(()=>{s&&!n&&(r.locale===M||r.messages!==C)&&!o&&!p&&u.get("onboarding_style","")==="CONVO"&&(T.setOnboardingConvoState({onboardingConvoClientThreadId:e}),t(),i({eventSource:"url",stepPrompt:r.formatMessage(j.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:y.Onboarding}}),_.logEvent("chatgpt_convo_onboarding_started"))},[s,t,i,n,r,r.locale,r.messages,e,u,o,p])}const G=({clientThreadId:e})=>{const a=R(e);return d.useCallback(({stepPrompt:o,messageMetadata:n,authorMetadata:s,...t})=>{a({...t,promptMessage:S(o,n,s),completionMetadata:{isOnboardingConversation:!0,conversationMode:{kind:x.PrimaryAssistant}}})},[a])};function K(e){const a=A(e,t=>E.findNode(t,i=>i.message.author.role===O.User)?.message.metadata?.onboarding),{eligible:o,isLoading:n,markAsViewed:s}=l(g.hasSeenFilePickerNuxTooltip);return{isEligible:a?.triggered_tools?.includes("file_upload")&&o&&!n,markAsViewed:s}}function Q(){const{layer:e}=k("109457");return e.get("onboarding_show_followups",!1)}export{G as a,J as b,Q as c,K as d,j as m,q as u};
//# sourceMappingURL=fu6bathgya5b9rdr.js.map
